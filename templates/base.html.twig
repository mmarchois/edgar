<!doctype html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, viewport-fit=cover"/>
    <link rel="icon" href="{{ asset('images/icons/favicon.png') }}" type="image/svg+xml">
    <link rel="manifest" href="{{ asset('manifest.json') }}" crossorigin="use-credentials">
    {% set _nonce = csp_nonce('script') %}
    {% set _nonce = csp_nonce('style') %}
    <meta name="csp-nonce" content="{{ _nonce }}">
    <title>{% block title 'common.baseline'|trans %}</title>
    {% block stylesheets %}
        {{ encore_entry_link_tags('app') }}
    {% endblock %}
    {% block javascripts %}
        {{ encore_entry_script_tags('app') }}
        <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
        <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    {% endblock %}
  </head>
  <body>
    {% set currentRouteName = app.request.get('_route') %}
    {% set isHeaderBgPrimary = currentRouteName  == 'app_dashboard' or currentRouteName  == 'app_landing' %}

    <div class="appHeader {% if isHeaderBgPrimary %} bg-primary text-light{% endif %}">
        <div class="left">
            <a href="#" class="headerButton" data-bs-toggle="modal" data-bs-target="#sidebarPanel">
                <ion-icon name="menu-outline"></ion-icon>
            </a>
        </div>
        <div class="pageTitle">{% block navTitle 'common.title'|trans %}</div>
        <div class="right"></div>
    </div>
    <div id="appCapsule">
        {% block body %}{% endblock %}
    </div>
    {% if app.user %}
        {% include 'common/_footer.html.twig' %}
    {% endif %}
  </body>
</html>
